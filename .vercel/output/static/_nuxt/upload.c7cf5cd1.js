import{_ as R}from"./A-Nav.vue.13cb82cf.js";import{_ as U}from"./A-Footer.vue.12585e36.js";import{q as F,r,c as u,b as _,a as e,G as C,H as v,I as x,h as g,J as h,F as P,A as I,B as L,o as p,t as N,K as $,C as T,z as V,L as q}from"./entry.84e2e4bd.js";import{p as M}from"./postDemo.936a5a8d.js";import"./logo.7c89bcae.js";import"./burger.8c8f3fea.js";import"./chevron-right.02c8b315.js";const S={class:"w-full"},j={class:"w-full min-h-screen"},G=["onSubmit"],z=e("h1",{class:"text-5xl font-semibold"},"Upload",-1),E=e("label",{class:"block mb-2 font-bold text-2xl mt-20",for:"image"},"Banner Image -",-1),H=e("label",{class:"block mb-2 font-bold text-2xl mt-20",for:"blog-title"},"Blog Title -",-1),J=e("label",{class:"block mb-2 font-bold text-2xl mt-20",for:"blog-title"},"Blog Preview -",-1),K={class:"w-full py-20"},O={class:"w-full flex flex-col mt-20 lg:mt-0 gap-y-4 lg:gap-y-10 text-sm lg:text-lg"},Q=e("label",{class:"block mb-2 font-bold text-2xl mt-20",for:"blog-content"},"Blog Content -",-1),W=e("button",{class:"bg-emerald-500 mt-20 rounded-md px-6 py-3 transition-all duration-700 text-sm text-white font-bold hover:bg-neutral-500 active:bg-neutral-800",type:"submit"},"Upload",-1),se={__name:"upload",async setup(X){let i,b;const{$firestore:y,$storage:w}=([i,b]=F(()=>L()),i=await i,b(),i),o=r(null),s=r(null),c=r([]),d=r(null),f=r(null),k=async()=>{console.log(o.value.value);const l=o.value.files[0],t=URL.createObjectURL(l);new FileReader().readAsDataURL(l),f.value.src=t,console.log(l)},B=()=>{c.value.push(s.value),s.value=""},D=()=>{c.value=[]},A=async()=>{const l=new Date,t={content:c.value,title:d.value,imgFileName:o.value.files[0].name,currentDate:l};try{await M(t);const a=await $(T(y,"invac-blogs"),t),m=V(w,o.value.files[0].name);await q(m,o.value.files[0]),console.log("Uploaded a blob or file!"),console.log(t),console.log("Document written with ID: ",a.id),router.go()}catch(a){console.log(a.message)}};return(l,t)=>{const a=R,m=U;return p(),u("div",S,[_(a),e("div",j,[e("form",{onSubmit:C(A,["prevent"]),class:"px-10 2xl:px-20 py-10 lg:py-10 xl:py-12 2xl:py-14 min-h-screen"},[z,E,e("input",{required:"",onChange:k,ref_key:"imgFile",ref:o,class:"bg-transparent rounded-lg my-10 mb-8 w-full h-12 appearance-none",type:"file",id:"image",name:"image"},null,544),e("img",{ref_key:"imgPreview",ref:f,id:"preview-image",class:"mb-8 w-full lg:w-[70%] block mx-auto rounded-md border-2 border-neutral-500 aspect-video object-cover"},null,512),H,v(e("input",{required:"","onUpdate:modelValue":t[0]||(t[0]=n=>h(d)?d.value=n:null),class:"bg-white bg-opacity-90 text-black p-5 rounded-lg my-10 mb-8 w-full h-12 appearance-none",type:"text",id:"blog-title",name:"blog-title"},null,512),[[x,g(d)]]),J,e("div",K,[e("div",O,[(p(!0),u(P,null,I(g(c),n=>(p(),u("p",null,N(n),1))),256))])]),Q,v(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=n=>h(s)?s.value=n:null),name:"blog-content",id:"blog-content",cols:"30",rows:"10",class:"w-full text-black p-5 outline-none bg-white bg-opacity-90 rounded-md min-h-[22rem]"},null,512),[[x,g(s)]]),e("div",{class:"flex gap-x-3"},[e("div",{onClick:B,class:"p-3 bg-neutral-700 rounded-md cursor-pointer hover:opacity-70 active:opacity-90 transition-all duration-500 w-fit my-4"}," Add Blog Paragraph "),e("div",{onClick:D,class:"p-3 bg-red-500 rounded-md cursor-pointer hover:opacity-70 active:opacity-90 transition-all duration-500 w-fit my-4"}," Reset Paragraphs ")]),W],40,G)]),_(m)])}}};export{se as default};
